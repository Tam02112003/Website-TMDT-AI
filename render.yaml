  services:                                                                                                                                                                                                                         
    # Service cho Backend FastAPI                                                                                                                                                                                                   
    - type: web                                                                                                                                                                                                                     
      name: fastapi-app                                                                                                                                                                                                             
      runtime: python                                                                                                                                                                                                               
      rootDir: app                                                                                                                                                                                                                  
      buildCommand: "pip install -r requirements.txt"                                                                                                                                                                               
      startCommand: "uvicorn main:app --host 0.0.0.0 --port $PORT"                                                                                                                                                                  
      envVars:                                                                                                                                                                                                                      
        - key: PYTHON_VERSION                                                                                                                                                                                                       
          value: 3.11                                                                                                                                                                                                               

    # Service cho Kafka Consumer                                                                                                                                                                                                    
    - type: worker                                                                                                                                                                                                                  
      name: kafka-consumer                                                                                                                                                                                                          
      runtime: python                                                                                                                                                                                                               
      rootDir: app                                                                                                                                                                                                                  
      buildCommand: "pip install -r requirements.txt"                                                                                                                                                                               
      startCommand: "python kafka_consumers/activity_consumer.py"                                                                                                                                                                   
      envVars:                                                                                                                                                                                                                      
        - key: PYTHON_VERSION                                                                                                                                                                                                       
          value: 3.11